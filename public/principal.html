<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Orbit Finance</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="dashboard.css">
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="background-wrapper">
        <div class="dashboard-container">
            <header class="header">
                <div>
                    <h2>OlÃ¡, <span id="nomeUsuario">UsuÃ¡rio</span></h2>
                    <p>Seu resumo financeiro</p>
                </div>
                <button onclick="fazerLogout()" class="btn-logout">Sair</button>
            </header>

            <div class="filtros-wrapper">
                <button class="btn-filtro" onclick="mudarFiltro('semana')" id="btn-semana">7 Dias</button>
                <button class="btn-filtro active" onclick="mudarFiltro('mes')" id="btn-mes">Este MÃªs</button>
                <button class="btn-filtro" onclick="mudarFiltro('ano')" id="btn-ano">Este Ano</button>
                <button class="btn-filtro" onclick="mudarFiltro('todos')" id="btn-todos">Tudo</button>
            </div>

            <section class="cards">
                <div class="card entrada">
                    <h3>Entradas</h3>
                    <p id="totalEntradas">R$ 0,00</p>
                </div>
                <div class="card saida">
                    <h3>SaÃ­das</h3>
                    <p id="totalSaidas">R$ 0,00</p>
                </div>
                <div class="card saldo">
                    <h3>Saldo Total</h3>
                    <p id="saldoTotal">R$ 0,00</p>
                </div>
            </section>

            <section class="grafico-container" style="max-width: 400px; margin: 20px auto; text-align: center;">
                <h3 style="color: white; margin-bottom: 15px;">Resumo Visual</h3>
                <div style="position: relative; height: 300px; width: 100%;">
                    <canvas id="meuGrafico"></canvas>
                </div>
            </section>

            <section class="nova-transacao">
                <h3>Nova TransaÃ§Ã£o</h3>

                <div class="ia-area">
                    <h4 class="ia-title">
                        âœ¨ IA Assistant 
                        <small>(Google Gemini)</small>
                    </h4>
                    
                    <div class="ia-controls">
                        <input type="text" id="inputIA" placeholder="Ex: Gastei 45 no BK..." autocomplete="off">
                        
                        <button type="button" onclick="usarIA()" class="btn-magic">
                            MÃ¡gica ğŸª„
                        </button>
                    </div>
                </div>

                <form id="formTransacao">
                    <div class="input-group">
                        <input type="text" id="descricao" placeholder="DescriÃ§Ã£o (ex: Aluguel)" required>
                    </div>
                    
                    <div class="input-group" style="display: flex; gap: 10px;">
                        <input type="number" step="0.01" id="valor" placeholder="Valor (R$)" required>
                        <select id="tipo" required style="padding: 10px; border-radius: 6px; border: 1px solid #ddd;">
                            <option value="entrada">Entrada</option>
                            <option value="saida">SaÃ­da</option>
                        </select>
                    </div>

                    <div class="input-group">
                        <select id="categoria" required style="width: 100%; padding: 10px; margin-top: 10px; border-radius: 6px; border: 1px solid #ddd;">
                            <option value="" disabled selected>Escolha a Categoria</option>
                            
                            <option value="1" class="cat-saida">ğŸ  Moradia</option>
                            <option value="2" class="cat-saida">ğŸ” AlimentaÃ§Ã£o</option>
                            <option value="3" class="cat-saida">ğŸš— Transporte</option>
                            <option value="4" class="cat-saida">ğŸ‰ Lazer</option>
                            <option value="5" class="cat-saida">ğŸ’Š SaÃºde</option>
                            <option value="6" class="cat-saida">ğŸ“š EducaÃ§Ã£o</option>
                            <option value="7" class="cat-saida">ğŸ›ï¸ Compras</option>
                            
                            <option value="8" class="cat-entrada">ğŸ’° SalÃ¡rio</option>
                            <option value="9" class="cat-entrada">ğŸ“ˆ Investimentos</option>
                            <option value="10" class="cat-entrada">ğŸš€ Renda Extra</option>
                        </select>
                    </div>

                    <button type="submit" style="margin-top: 10px;">Adicionar</button>
                </form>
            </section>

            <section>
                <h3>HistÃ³rico</h3>
                <ul id="listaTransacoes" class="lista-transacoes">
                </ul>
            </section>
        </div>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/3.0.8/purify.min.js"></script>
    <script src="scripts.js"></script>
</body>
</html>